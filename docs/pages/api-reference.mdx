---
mdxOptions: { format: "md" }
---

# API

<!-- elisp-docgen-start (:symbols (run-command-recipes run-command-default-runner run-command-default-selector run-command run-command-core-get-command-specs run-command-core-run run-command-util-shorter-recipe-name-maybe)) -->

#### Variable: `run-command-recipes`

List of functions that will produce command lists.

Each function is called without arguments and must return a list of property
lists, where each property list represents a command and has the following
format:

- `:command-name` (string, required): A name for the command, used
  to generate the output buffer name, as well as a fallback in case
  `:display` isn&#39;t provided
- `:command-line` (string or function, required): The command
  line that will be executed. Can be a function to e.g. further
  query the user, and should return a string.
- `:display` (string, optional): A descriptive name that will
  be displayed to the user.
- `:working-dir` (string, optional): Directory to run the command
  in. If not given, defaults to `default-directory`.

#### Variable: `run-command-default-runner`

Default runner function to use when recipe does not specify any.

Either one of the runner functions shipped with run-command, or a
custom runner function.

If nil, falls back to `run-command-runner-term`.

Runners shipped with run-command:

- `run-command-runner-term` (default): display command output in a
  `term-mode` buffer
- `run-command-runner-compile`: display command output in a
  `compilation-mode` buffer
- `run-command-runner-vterm`: display command output in a `vterm`
  buffer (requires `vterm` package to be present)
- `run-command-runner-eat`: display command output in a `eat`
  buffer (requires `eat` package to be present)

#### Variable: `run-command-default-selector`

Selector to use to pick a command.

#### Function: `(run-command)`

Pick a command from a context-dependent list, and run it.

The command list is generated by running the functions configured in
`run-command-recipes`.

#### Function: `(run-command-core-get-command-specs COMMAND-RECIPES)`

Execute `COMMAND-RECIPES` to generate command specs.

#### Function: `(run-command-core-run COMMAND-SPEC)`

Run `COMMAND-SPEC`.

#### Function: `(run-command-util-shorter-recipe-name-maybe COMMAND-RECIPE)`

Shorten `COMMAND-RECIPE` name when it begins with conventional prefix.

<!-- elisp-docgen-end -->
